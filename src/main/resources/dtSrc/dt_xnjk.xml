<?xml version="1.0" encoding="UTF-8"?>
<dataSource>
	<src id="xnjk_maxny" name="最大有效月份" description="" sourceType ="sql">
		<sql>
		<![CDATA[
		select max(ny)ny from xnjk
		]]>
		</sql>
		<cols>
			<col name="ny" isFilter="1"/>
		</cols>
	</src>
	<src id="xnjk_year" name=" 有数据的年份" description="" sourceType ="sql">
		<sql>
		<![CDATA[
			select distinct substr(ny,1,4)nian from xnjk 
		]]>
		</sql>
		<cols>
			<col name="nian" canOrder="1"/>
		</cols>
	</src>
	<src id="xnjk_month" name="有数据的月份" description="" sourceType ="sql">
		<sql>
		<![CDATA[
			select distinct substr(ny,1,4)nian,substr(ny,5,2)yue,ny from xnjk 
		]]>
		</sql>
		<cols>
			<col name="nian" isFilter="1"/>
			<col name="yue" isFilter="1"/>
			<col name="ny" canOrder="1"/>
		</cols>
	</src>
	<src id="xnjk_detail" name="虚拟金库明细" description="" sourceType ="sql">
		<sql>
		<![CDATA[
			select ny,czfpbm,czfp,ttax,round(ttax/sum(ttax) over (partition by ny)*100,2) sszb,r.color from xnjk a,renders r
			where czfpbm is not null and r.rptid='xnjk_detail' and r.lid = a.czfpbm order by ny,czfpbm
		]]>
		</sql>
		<cols>
			<col name="ny" canOrder="1" isFilter="1"/>
			<col name="czfpbm" canOrder="1" isFilter="1"/>
			<col name="ttax" fldType="double" canOrder="1"/>
			<col name="sszb" fldType="double" />
		</cols>
	</src>
</dataSource>

