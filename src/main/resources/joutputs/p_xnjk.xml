<?xml version="1.0" encoding="UTF-8"?>
<pages>
	<joutput id="xnjk_df_ym" name="虚拟金库-最大月份" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnjk_month&&$xnjk_month.rows.size()>0)
				"latestValidMonth":"$!{xnjk_month.rows[0].ny}",
				"format":"Ym" 
			#end	
			}
		]]>
		</jTemplate>
		<vDs name="xnjk_month" refDtSrc="xnjk_month" fields="ny">
            <orderBy name = "ny" dir="desc"/>
		</vDs>
	</joutput>
	<joutput id="xnjk_year" name="虚拟金库-有数据的年" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnjk_year&&$xnjk_year.rows.size()>0)
				"options":[
					#foreach($row in $xnjk_year.rows)
	   						{"bm":"$!{row.nian}"}#if($velocityCount != $xnjk_year.rows.size()),#end
	   					#end
				],
				"defaultOp":"$!{xnjk_year.rows[0].nian}"
			#end	
			}
		]]>
		</jTemplate>
		<vDs name="xnjk_year" refDtSrc="xnjk_year" fields="nian">
			<orderBy name = "nian" dir="desc"/>
		</vDs>
	</joutput>
	<joutput id="xnjk_month" name="虚拟金库有数据的月份选项" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnjk_month&&$xnjk_month.rows.size()>0)
				"options":[
					#foreach($row in $xnjk_month.rows)
	   						{"bm":"$!{row.yue}","name":"$!{row.ny}"}#if($velocityCount != $xnjk_month.rows.size()),#end
	   					#end
				],
				"defaultOp":"$!{xnjk_month.rows[0].ny}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="xnjk_month" refDtSrc="xnjk_month" fields="ny,yue">
			<filter name = "nian" refParam="year" value="2018"/>
			<orderBy name = "ny" dir="desc"/>
		</vDs>
	</joutput>
    <joutput id="xnjk" name="虚拟金库" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnjk_qq&&$xnjk_qq.rows.size()>0)	
					"total_ybggys":{"fpbm":"ALL_00","fp":"全区合计","yss":"$!{xnjk_qq.rows[0].yss}","zxjd":"$!{xnjk_qq.rows[0].wcbl}","zxs":"$!{xnjk_qq.rows[0].bnlj}","sntq":"$!{xnjk_qq.rows[0].sntq}","tbzz":"$!{xnjk_qq.rows[0].tbzz}"},
	 				"total_czzsr":{"fpbm":"ALL_00","fp":"全区合计","yss":"$!{xnjk_qq.rows[1].yss}","zxjd":"$!{xnjk_qq.rows[1].wcbl}","zxs":"$!{xnjk_qq.rows[1].bnlj}","sntq":"$!{xnjk_qq.rows[1].sntq}","tbzz":"$!{xnjk_qq.rows[1].tbzz}"},
			"pie_ybggys":[
					#foreach($row in $xnjk_ybggyssr.rows)
	   						{
	   					"fpbm":"$!{row.czfpbm}",
						"fp":"$!{row.dw}",
						"yss":"$!{row.yss}",
						"zxjd":"$!{row.wcbl}",
						"zxs":"$!{row.bnlj}",  
						"sntq":"$!{row.sntq}", 
						"tbzz":"$!{row.tbzz}",
						"sszb":"$!{row.srzb}",
						"color":"$!{row.color}"  
	   						}#if($velocityCount != $xnjk_ybggyssr.rows.size()),#end
	   					#end
				],
			"pie_czzsr":[
					#foreach($row in $xnjk_czzsr.rows)
	   						{
	   					"fpbm":"$!{row.czfpbm}",
						"fp":"$!{row.dw}",
						"yss":"$!{row.yss}",
						"zxjd":"$!{row.wcbl}",
						"zxs":"$!{row.bnlj}",  
						"sntq":"$!{row.sntq}", 
						"tbzz":"$!{row.tbzz}",
						"sszb":"$!{row.srzb}",
						"color":"$!{row.color}"  
	   						}#if($velocityCount != $xnjk_czzsr.rows.size()),#end
	   					#end
				]
			#end
			}
		]]>
		</jTemplate>
		<vDs name="xnjk_qq" refDtSrc="xnjk_qq" fields="bnlj,yss,wcbl,sntq,tbzz">
			<filter name = "ny" refParam="zwrq" value="201804"/>
			<orderBy name = "kj" dir="desc"/>
		</vDs>
		<vDs name="xnjk_ybggyssr" refDtSrc="xnjk_ybggyssr" fields="czfpbm,dw,bnlj,yss,wcbl,sntq,tbzz,srzb,color">
			<filter name = "ny" refParam="zwrq" value="201804"/>
			<orderBy name = "srzb" dir="desc" dataType="double"/>
		</vDs>
		<vDs name="xnjk_czzsr" refDtSrc="xnjk_czzsr" fields="czfpbm,dw,bnlj,yss,wcbl,sntq,tbzz,srzb,color">
			<filter name = "ny" refParam="zwrq" value="201804"/>
			<orderBy name = "srzb" dir="desc" dataType="double"/>
		</vDs>
	</joutput>
		<joutput id="xnjk_rclist" name="获取某镇街截止到指定年月，税额排序从大到小前50名的企业信息"  description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnkj_ens&&$xnkj_ens.rows.size()>0)
				"ens":[
				#foreach($row in $xnkj_ens.rows)
		   		{"swdjzh":"$!{row.swdjzh}","mc":"$!{row.mc}"}
		   			#if($velocityCount != $xnkj_ens.rows.size()),#end
		   		#end
				],
				"total": "$!{xnkj_ens.total}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="xnkj_ens" fields="swdjzh,mc,fpbm,bnlj,sntq,pm" paging="true">
			<filter name = "fpbm" value="330108099"/>
			<filter name = "ny" value="201803"/>
			<orderBy name = "pm" dataType="integer" dir="asc"/>
		</vDs>
	</joutput>
		<joutput id="xnjk_entax" name="获取指定企业的详细税收信息"  description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnkj_ens&&$xnkj_ens.rows.size()>0)
		   		"swdjzh":"$!{xnkj_ens.rows[0].swdjzh}",
		   		"mc":"$!{xnkj_ens.rows[0].mc}",
		   		"czfp":"$!{xnkj_ens.rows[0].czfp}",
		   		"bnlj":"$!{xnkj_ens.rows[0].bnlj}",
		   		"sntq":"$!{xnkj_ens.rows[0].sntq}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="xnkj_ens" fields="swdjzh,mc,czfp,bnlj,sntq">
			<filter name = "swdjzh" value="91330100609136127P"/>
			<filter name = "ny" value="201803"/>
		</vDs>
	</joutput>
</pages>