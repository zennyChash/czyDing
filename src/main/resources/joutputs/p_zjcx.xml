<?xml version="1.0" encoding="UTF-8"?>
<pages>
	<joutput id="zjdhcx_df_ym" name="单户查询-最大月份" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($en_maxny&&$en_maxny.rows.size()>0)
				"latestValidMonth":"$!{en_maxny.rows[0].ny}",
				"format":"Ym" 
			#end	
			}
		]]>
		</jTemplate>
		<vDs name="en_maxny" refDtSrc="en_maxny" fields="ny">
			<filter name = "swdjzh" value="91330108742940165J"/>
		</vDs>
	</joutput>
	<joutput id="zjdhcx_year" name="单户查询-有数据的年" description=""> 
		<jTemplate>
		<![CDATA[
			{
				#if($dhcx_year&&$dhcx_year.rows.size()>0)
				"options":[
					#foreach($row in $dhcx_year.rows)
	   					{"bm":"$!{row.nian}","name":"$!{row.nian}"}#if($velocityCount != $dhcx_year.rows.size()),#end
	   				#end
				],
				"defaultOp":"$!{dhcx_year.rows[0].nian}"
				#end
			}
		]]>
		</jTemplate>
		<vDs name="dhcx_year" refDtSrc="en_year" fields="nian">
			<filter name = "swdjzh" value="91330108742940165J"/>
			<orderBy name = "nian" dir="desc"/>
		</vDs>
	</joutput>
	<joutput id="zjdhcx_month" name="单户查询-有数据的月份选项" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($en_month&&$en_month.rows.size()>0)
				"options":[
					#foreach($row in $en_month.rows)
	   						{"bm":"$!{row.yue}","name":"$!{row.yue}"}#if($velocityCount != $en_month.rows.size()),#end
	   					#end
				],
				"defaultOp":"$!{en_month.rows[0].yue}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="en_month" refDtSrc="en_month" fields="ny,yue">
			<filter name = "swdjzh" value="91330108742940165J"/>
			<filter name = "nian" refParam="year" value="2018"/>
			<orderBy name = "yue" dir="desc"/>
		</vDs>
	</joutput>
	<joutput id="zjdhcx" name="单户查询——企业税收信息"  description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($en_tax&&$en_tax.rows.size()>0)
				"swdjzh":"$!{en_tax.rows[0].swdjzh}",
				"mc":"$!{en_tax.rows[0].mc}",
				"czfp":"$!{en_tax.rows[0].czfp}",
				"ssgx":"$!{en_tax.rows[0].zsebn}",
				"dz":"$!{en_tax.rows[0].dz}",
				"hy":"$!{en_tax.rows[0].hy}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="en_tax" refDtSrc="zjsr_qyxx" fields="swdjzh,mc,dz,hy,czfp,zsebn">
			<filter name = "swdjzh" value="91330108742940165J"/>
			<filter name = "ny" value="201806"/>
		</vDs>
	</joutput>
	<joutput id="zjcx_df_ym" name="最大日期" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($zj_maxny&&$zj_maxny.rows.size()>0)
				"latestValidMonth":"$!{zj_maxny.rows[0].ny}",
				"format":"Ym" 
			#end
			}
		]]>
		</jTemplate>
		<vDs name="zj_maxny" refDtSrc="zjsrtj_maxny" fields="ny">
			<filter name = "czfpbm" value="330108095"/>
		</vDs>
	</joutput>
	<joutput id="zjcx_year" name="有数据的年" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($zj_year&&$zj_year.rows.size()>0)
				"options":[
					#foreach($row in $zj_year.rows)
	   						{"bm":"$!{row.nian}"}#if($velocityCount != $zj_year.rows.size()),#end
	   					#end
				],
				"defaultOp":"$!{zj_year.rows[0].nian}"
			#end	
			}
		]]>
		</jTemplate>
		<vDs name="zj_year" refDtSrc="zjsrtj_year" fields="nian">
			<filter name = "czfpbm" value="330108095"/>
			<orderBy name = "nian" dir="desc"/>
		</vDs>
	</joutput>
	<joutput id="zjcx_month" name="有数据的月份选项" description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($zjsrtj_month&&$zjsrtj_month.rows.size()>0)
				"options":[
					#foreach($row in $zjsrtj_month.rows)
	   					{"bm":"$!{row.yue}"}#if($velocityCount != $zjsrtj_month.rows.size()),#end
	   				#end
				],
				"defaultOp":"$!{zjsrtj_month.rows[0].yue}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="zjsrtj_month" fields="ny,yue">
			<filter name = "czfpbm" value="330108095"/>
			<filter name = "nian" refParam="year" value="2018"/>
			<orderBy name = "ny" dir="desc"/>
		</vDs>
	</joutput>
	<joutput id="zjcx" name="税收情况"  description="" > 
		<jTemplate>
		<![CDATA[
			{
				#if($zjsr_basic&&$zjsr_basic.rows.size()>0)
				    "fpbm":"$!{zjsr_basic.rows[0].czfpbm}",
				    "fp":"$!{zjsr_basic.rows[0].czfp}",
					"bnlj":"$!{zjsr_basic.rows[0].bnlj}",
					"sntq":"$!{zjsr_basic.rows[0].sntq}",
				#else
					"fpbm":"","fp":"","bnlj":"","sntq":""
				#end
				#if($zjsr_details&&$zjsr_details.rows.size()>0)
					"enum":"$!{zjsr_details.total}",
				#else
					"enum":0
				#end
			}
		]]>
		</jTemplate>
		<vDs name="zjsr_basic" fields="czfpbm,czfp,bnlj,sntq,tbzz">
			<filter name = "czfpbm" value="330108095"/>
			<filter name = "ny" value="201807"/>
		</vDs>
		<vDs name="zjsr_details" paging="true" fields="ny,czfpbm,swdjzh,mc,bnlj,pm">
			<filter name = "czfpbm" value="3330108095"/>
			<filter name = "ny" value="201807"/>
			<orderBy name = "pm" dataType="integer" dir="asc"/>
		</vDs>
	</joutput>
		<joutput id="zjcx_rclist" name="获取某镇街截止到指定年月，税额排序从大到小前50名的企业信息"  description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnkj_ens&&$xnkj_ens.rows.size()>0)
				"ens":[
				#foreach($row in $xnkj_ens.rows)
		   		{"swdjzh":"$!{row.swdjzh}","mc":"$!{row.mc}"}
		   			#if($velocityCount != $xnkj_ens.rows.size()),#end
		   		#end
				],
				"total": "$!{xnkj_ens.total}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="xnkj_ens" fields="swdjzh,mc,fpbm,bnlj,sntq,pm" paging="true">
			<filter name = "fpbm" value="330108099"/>
			<filter name = "ny" value="201803"/>
			<orderBy name = "pm" dataType="integer" dir="asc"/>
		</vDs>
	</joutput>
		<joutput id="zjcx_entax" name="获取指定企业的详细税收信息"  description=""> 
		<jTemplate>
		<![CDATA[
			{
			#if($xnkj_ens&&$xnkj_ens.rows.size()>0)
		   		"swdjzh":"$!{xnkj_ens.rows[0].swdjzh}",
		   		"mc":"$!{xnkj_ens.rows[0].mc}",
		   		"czfp":"$!{xnkj_ens.rows[0].czfp}",
		   		"bnlj":"$!{xnkj_ens.rows[0].bnlj}",
		   		"sntq":"$!{xnkj_ens.rows[0].sntq}"
			#end
			}
		]]>
		</jTemplate>
		<vDs name="xnkj_ens" fields="swdjzh,mc,czfp,bnlj,sntq">
			<filter name = "swdjzh" value="91330100609136127P"/>
			<filter name = "ny" value="201803"/>
		</vDs>
	</joutput>
</pages>

